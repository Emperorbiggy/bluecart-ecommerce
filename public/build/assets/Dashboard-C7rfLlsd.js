import{r as n,j as s,$ as h}from"./app-DaQgKAGR.js";import{A as m}from"./AuthenticatedLayout-DZRfFRS9.js";import{f as j}from"./api-DyevnMQc.js";import{u as g}from"./CartContext-CbfNRXyS.js";import"./ApplicationLogo-C7LRkTtX.js";import"./transition-hnfPg1aO.js";function v(){const[t,i]=n.useState(null),[d,o]=n.useState(!0),{cart:r}=g();n.useEffect(()=>{(async()=>{try{const a=await j();i(a)}catch(a){console.error("Error fetching user:",a)}finally{o(!1)}})()},[]);const l=r.reduce((e,a)=>e+a.price*a.quantity,0),c=Math.round(l*.075),x=l+c;return s.jsxs(m,{header:s.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Dashboard"}),children:[s.jsx(h,{title:"Dashboard"}),s.jsx("div",{className:"py-12",children:s.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:s.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:s.jsxs("div",{className:"p-6 text-gray-900 space-y-4",children:[d?s.jsx("p",{children:"Loading user details..."}):t?s.jsxs(s.Fragment,{children:[s.jsxs("h3",{className:"text-lg font-semibold text-[#130447]",children:["Welcome, ",t.name]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-700",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",t.email]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",t.phone]}),s.jsxs("p",{className:"md:col-span-2",children:[s.jsx("strong",{children:"Billing Address:"})," ",t.billing_address]})]})]}):s.jsx("p",{children:"No user data available."}),s.jsx("hr",{className:"my-4"}),s.jsx("h3",{className:"text-lg font-semibold text-[#130447]",children:"Cart Summary"}),r.length===0?s.jsx("p",{className:"text-sm text-gray-500",children:"No products in cart."}):s.jsxs("div",{className:"space-y-4",children:[r.map(e=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Array.isArray(e.images)?e.images[0]:e.image||"/placeholder.png",alt:e.name,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold",children:e.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["₦",e.price.toLocaleString()," x ",e.quantity]})]})]},e.id)),s.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["₦",l.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"VAT (7.5%)"}),s.jsxs("span",{children:["₦",c.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between font-semibold",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["₦",x.toLocaleString()]})]})]})]})]})})})})]})}export{v as default};
