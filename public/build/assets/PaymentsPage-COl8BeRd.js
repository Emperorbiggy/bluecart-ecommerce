import{r as s,a as h,j as e}from"./app-Cu4gI7ct.js";import{A as p}from"./AdminLayout-BJ1TDyrl.js";import"./BlueCartLoader-DIdU36Zx.js";import"./createLucideIcon-BfVtD7wb.js";import"./log-out-BuneZK1n.js";import"./user-BnYGxcdh.js";import"./api-C_pSPt-h.js";function w(){const[r,d]=s.useState([]),[n,i]=s.useState(!0),[o,c]=s.useState("payments");s.useEffect(()=>{x()},[]);const x=async()=>{try{const t=localStorage.getItem("auth_token"),a=await h.get("/api/payments",{headers:{Authorization:`Bearer ${t}`}});d(a.data.payments)}catch(t){console.error("Failed to load payments:",t)}finally{i(!1)}};return e.jsx(p,{activeTab:o,setActiveTab:c,children:e.jsxs("div",{className:"max-w-7xl mx-auto p-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-[#130447] mb-6",children:"All Payments"}),n?e.jsx("p",{children:"Loading payments..."}):e.jsx("div",{className:"overflow-x-auto bg-white shadow-md rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-[#130447] text-white text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left",children:"Paid By"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Order ID"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Reference"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Amount"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100 text-sm text-gray-700",children:r.map(t=>{var l;const a=t.method==="cod"&&t.status==="pending",m=t.status==="completed"||a?"bg-green-600":t.status==="pending"?"bg-yellow-500":"bg-red-600";return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:t.user_name||"Unknown"}),e.jsxs("td",{className:"px-4 py-3 font-semibold",children:["#",t.order_id||"N/A"]}),e.jsx("td",{className:"px-4 py-3 font-mono",children:t.reference||"—"}),e.jsxs("td",{className:"px-4 py-3",children:["₦",Number(t.amount||0).toLocaleString()]}),e.jsx("td",{className:"px-4 py-3",children:t.date?new Date(t.date).toLocaleString():"—"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold text-white ${m}`,children:((l=t.status)==null?void 0:l.toUpperCase())||"N/A"})})]},t.id)})})]})})]})})}export{w as default};
